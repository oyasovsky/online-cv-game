(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[583],{8178:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/analytics",function(){return t(7505)}])},2697:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});var a=t(5893),n=t(7294);function l(){let[e,s]=(0,n.useState)({x:0,y:0});return(0,n.useEffect)(()=>{let e=e=>{s({x:e.clientX/window.innerWidth*100,y:e.clientY/window.innerHeight*100})};return window.addEventListener("mousemove",e),()=>window.removeEventListener("mousemove",e)},[]),(0,a.jsxs)("div",{className:"parallax-bg",children:[(0,a.jsx)("div",{className:"floating-particle",style:{transform:"translate(".concat(.08*e.x,"px, ").concat(.08*e.y,"px)")}}),(0,a.jsx)("div",{className:"floating-particle",style:{transform:"translate(".concat(-.12*e.x,"px, ").concat(-.12*e.y,"px)")}}),(0,a.jsx)("div",{className:"floating-particle",style:{transform:"translate(".concat(.15*e.x,"px, ").concat(.04*e.y,"px)")}}),(0,a.jsx)("div",{className:"floating-particle",style:{transform:"translate(".concat(-.08*e.x,"px, ").concat(.15*e.y,"px)")}}),(0,a.jsx)("div",{className:"floating-particle",style:{transform:"translate(".concat(.04*e.x,"px, ").concat(-.08*e.y,"px)")}}),(0,a.jsx)("div",{className:"absolute inset-0 opacity-3",style:{backgroundImage:"\n            linear-gradient(rgba(255, 255, 255, 0.05) 1px, transparent 1px),\n            linear-gradient(90deg, rgba(255, 255, 255, 0.05) 1px, transparent 1px)\n          ",backgroundSize:"100px 100px",transform:"translate(".concat(.01*e.x,"px, ").concat(.01*e.y,"px)")}})]})}},7505:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return i}});var a=t(5893),n=t(7294),l=t(2697);function i(){let[e,s]=(0,n.useState)(null),[t,i]=(0,n.useState)(!0),[c,r]=(0,n.useState)(null),[d,x]=(0,n.useState)("7d");(0,n.useEffect)(()=>{o()},[d]);let o=async()=>{i(!0),r(null);try{let e="/api/analytics",t=new URLSearchParams;if("all"!==d){let e=new Date,s=new Date;switch(d){case"7d":s.setDate(e.getDate()-7);break;case"30d":s.setDate(e.getDate()-30);break;case"90d":s.setDate(e.getDate()-90)}t.append("startDate",s.toISOString()),t.append("endDate",e.toISOString())}t.toString()&&(e+="?".concat(t.toString()));let a=await fetch(e);if(!a.ok)throw Error("Failed to fetch analytics");let n=await a.json();s(n.data)}catch(e){console.error("Error fetching analytics:",e),r("Failed to load analytics data")}finally{i(!1)}},m=e=>new Intl.NumberFormat().format(Math.round(e)),h=e=>e<1?"< 1 min":e<60?"".concat(Math.round(e)," min"):"".concat(Math.floor(e/60),"h ").concat(Math.round(e%60),"m");return t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.Z,{}),(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center p-6 relative z-10",children:(0,a.jsxs)("div",{className:"glass-card p-8 text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-300 mx-auto mb-4"}),(0,a.jsx)("p",{className:"body-text",children:"Loading analytics..."})]})})]}):c?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.Z,{}),(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center p-6 relative z-10",children:(0,a.jsxs)("div",{className:"glass-card p-8 text-center",children:[(0,a.jsx)("p",{className:"body-text text-red-300 mb-4",children:c}),(0,a.jsx)("button",{onClick:o,className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 rounded-lg transition-colors",children:"Try Again"})]})})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.Z,{}),(0,a.jsx)("div",{className:"min-h-screen p-6 relative z-10",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,a.jsx)("div",{className:"glass-card p-6 mb-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h1",{className:"section-title",children:"\uD83D\uDCCA OlgaGPT Analytics"}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("select",{value:d,onChange:e=>x(e.target.value),className:"bg-white/10 border border-white/20 rounded-lg px-3 py-1 text-white",children:[(0,a.jsx)("option",{value:"7d",children:"Last 7 days"}),(0,a.jsx)("option",{value:"30d",children:"Last 30 days"}),(0,a.jsx)("option",{value:"90d",children:"Last 90 days"}),(0,a.jsx)("option",{value:"all",children:"All time"})]}),(0,a.jsx)("button",{onClick:o,className:"px-3 py-1 bg-blue-500 hover:bg-blue-600 rounded-lg transition-colors text-sm",children:"Refresh"})]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[(0,a.jsxs)("div",{className:"glass-card p-6 text-center",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-blue-300 mb-2",children:m(e.totalSessions)}),(0,a.jsx)("div",{className:"text-white/70 text-sm",children:"Total Sessions"})]}),(0,a.jsxs)("div",{className:"glass-card p-6 text-center",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-green-300 mb-2",children:m(e.totalQuestions)}),(0,a.jsx)("div",{className:"text-white/70 text-sm",children:"Total Questions"})]}),(0,a.jsxs)("div",{className:"glass-card p-6 text-center",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-purple-300 mb-2",children:m(e.averageQuestionsPerSession)}),(0,a.jsx)("div",{className:"text-white/70 text-sm",children:"Avg Questions/Session"})]}),(0,a.jsxs)("div",{className:"glass-card p-6 text-center",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-yellow-300 mb-2",children:h(e.sessionDuration)}),(0,a.jsx)("div",{className:"text-white/70 text-sm",children:"Avg Session Duration"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[(0,a.jsxs)("div",{className:"glass-card p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"âš¡ Performance Metrics"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-white/70",children:"Average Response Time:"}),(0,a.jsx)("span",{className:"text-white",children:h(e.averageResponseTime/1e3/60)})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-white/70",children:"Average Confidence:"}),(0,a.jsxs)("span",{className:"text-white",children:[Math.round(e.averageConfidence),"%"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-white/70",children:"Total Tokens Used:"}),(0,a.jsx)("span",{className:"text-white",children:m(e.totalTokens)})]})]})]}),(0,a.jsxs)("div",{className:"glass-card p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"\uD83D\uDCDA Most Used Sources"}),(0,a.jsx)("div",{className:"space-y-2",children:e.mostCommonSources.slice(0,5).map((e,s)=>(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-white/70 text-sm truncate flex-1",children:e.source.replace(".md","")}),(0,a.jsx)("span",{className:"text-white text-sm ml-2",children:e.count})]},s))})]})]}),(0,a.jsxs)("div",{className:"glass-card p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"\uD83D\uDD25 Top Questions"}),(0,a.jsx)("div",{className:"space-y-3",children:e.topQuestions.slice(0,10).map((e,s)=>(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsxs)("span",{className:"text-white/50 text-sm min-w-[20px]",children:["#",s+1]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"text-white text-sm",children:e.question}),(0,a.jsxs)("div",{className:"text-white/50 text-xs",children:["Asked ",e.count," times"]})]})]},s))})]})]})})]})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=8178)}),_N_E=e.O()}]);